<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <title>123</title>
  <style>
    body {
      margin: 0;
    }
  </style>
</head>

<!-- 
标题 收费凭证

学生姓名   xxx   家长电话   xxxx   经办时间  xxx

课程        学费  书费  材料费 其它
 xxxx      ￥    ￥    ￥    没有就为空
合计金额  ￥  22.22
金额大写  
收款方式  微信收款  支付宝收款  POS机    
备注 xxxx
校区  xxx   学校电话  xxx  教师姓名  xxx
打印时间  xxxx    经办人  xxx      客户签名   xxxx
-->


<body style="padding: 50px;">

  <canvas id="myCanvas"></canvas>

  <script type="text/javascript">

    onload();

    /**
     * shanghaiximo书法
     * 专用票据
     * 学生姓名
     * 家长电话
     * 收款方式：
     * 课程
     * 学费：______元
     * 书费：______元
     * 材料费：______元
     * 合计金额：￥123123
     * 金额大写：万仟佰拾元角分
     * 校区
     * 学校电话
     * 教师姓名
     * 收费时间：
     */
    function onload() {
      var canvas = document.querySelector('#myCanvas');
      var ctx = canvas.getContext('2d');
      canvas.width = 800;
      canvas.height = 400;

      var dpr = window.devicePixelRatio

      ctx.scale(800 * dpr + 'px', 400 * dpr + 'px')

      canvas.style.border = '1px solid #ccc';


      // 先画坐标系
      zuobiao(ctx, canvas)



      ctx.font = "normal normal bold 26px KaiTi";
      // ctx.fillStyle = "blue";
      ctx.textAlign = "center"
      ctx.fillText("上海曦墨书法", 400, 50, 200);

      ctx.font = "normal normal bold 22px Arial";
      ctx.fillStyle = "#000";
      ctx.fillText("专用票据", 400, 80, 200);

      ctx.lineWidth = 2;
      ctx.strokeRect(60, 120, 100, 40);

      ctx.strokeRect(160, 120, 100, 40);


      var startX = 150;
      var startY = 150;
      var step = 35;

      ctx.textAlign = "end"
      ctx.textBaseline = "bottom";

      ctx.font = "16px Arial";
      ctx.fillText("学生姓名：", startX, startY, 200);

      var lineStartX = 240

      line(ctx, startX, startY, lineStartX, startY)


      // ctx.font = "16px Arial";
      ctx.fillText("家长电话：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)

      ctx.fillText("收款方式：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)

      ctx.fillText("课程：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)

      ctx.fillText("学费：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)
      ctx.fillText("元", 260, startY, 200);

      ctx.fillText("书费：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)
      ctx.fillText("元", 260, startY, 200);

      ctx.fillText("材料费：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)
      ctx.fillText("元", 260, startY, 200);

      ctx.fillText("合计金额：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)
      ctx.fillText("元", 260, startY, 200);
      // ctx.fillText("合计金额：￥123123", startX, startY += step, 200);

      ctx.fillText("金额大写：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)
      // ctx.fillText("金额大写：万仟佰拾元角分", startX, startY += step, 200);


      ctx.fillText("校区：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)

      ctx.fillText("学校电话：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)

      ctx.fillText("教师姓名：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)

      ctx.fillText("收费时间：", startX, startY += step, 200);
      line(ctx, startX, startY, lineStartX, startY)

      // 
      //  * 学费：______元
      //  * 书费：______元
      //  * 材料费：______元


      ctx.restore();
    }


    function zuobiao(ctx, canvas) {
      var rectH = 20;
      var rectW = 20;
      ctx.lineWidth = 1;
      //绘制表格
      // 第一步： 绘制横线
      for (var i = 0; i < canvas.width; i++) {
        if (i > 1) {
          ctx.moveTo(rectW * i, 10);
          // //如果不设置moveTo，当前画笔没有位置
          ctx.lineTo(rectW * i, canvas.height);
        }

        ctx.textAlign = 'center'
        ctx.textBaseline = 'top'
        ctx.fillText(rectW * i + "", rectW * i, 0);
      }
      //第二步：绘制竖线：如果绘制的格子的宽高相等，可以将for循环放到一个里面；
      for (var i = 0; i < canvas.height; i++) {
        if (i > 1) {
          ctx.moveTo(10, rectH * i);
          ctx.lineTo(canvas.width, rectH * i);
        }
        ctx.textAlign = 'start'
        ctx.textBaseline = 'middle'
        ctx.fillText(rectH * i + "", 0, rectH*i);
      }
      ctx.stroke();


    }

    // test();

    function test() {
      var canvas = document.querySelector('#myCanvas');
      var ctx = canvas.getContext('2d');
      canvas.width = 600;
      canvas.height = 600;
      canvas.style.border = '1px solid red';

      // ctx.lineWidth = 1;
      //绘制表格
      // 第一步： 绘制横线
      // for (var i = 0; i < canvas.width; i++) {
      //   ctx.moveTo(rectW * i, 0);
      //   //如果不设置moveTo，当前画笔没有位置
      //   ctx.lineTo(rectW * i, canvas.height);
      // }
      //第二步：绘制竖线：如果绘制的格子的宽高相等，可以将for循环放到一个里面；
      // for (var i = 0; i < canvas.height; i++) {
      //   ctx.moveTo(0, rectH * i);
      //   ctx.lineTo(canvas.width, rectH * i);
      // }

      // 绘制第一个单元格
      line(ctx, 100, 50, 200, 50)
      line(ctx, 200, 50, 200, 100)
      line(ctx, 200, 100, 100, 100)
      line(ctx, 100, 100, 100, 50)




      ctx.font = "20px Arial"
      ctx.fillText("中文", 100, 50)

      ctx.strokeRect(200, 50, 300, 100);

      text(ctx, 50, 200, 100, 50, "中文中文中文中文中文中文中文")

      ctx.stroke();
    }

    function line(ctx, startX, startY, endX, endY) {
      // ctx.beginPath()
      // ctx.moveTo(startX, startY)
      // ctx.lineTo(endX, endY)
      // ctx.lineWidth = '2px'
      // ctx.stroke()
    }

    function text(ctx, startX, startY, width, height, str) {
      ctx.strokeRect(startX, startY, width, height)
      ctx.font = "10px serif"
      ctx.textAlign = "center"
      ctx.textBaseline = "middle"
      ctx.fillText(str, startX + (width / 2), startY + (height / 2), width)
    }

  </script>
</body>

</html>