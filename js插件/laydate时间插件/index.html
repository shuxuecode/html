<!DOCTYPE HTML >
<html>
 <head>
  <title>日期间隔计算</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <style>
  
div {
	
}  

@media screen and (min-width: 600px) {
 div {
  float: left;
 }
}
  
  </style>
 </head>
 <body >
  
  <div>
<span>起始日期</span>
<span id="beginDate"></span>
<br>
<span id="begin"></span>

</div>
  <div>
<span>结束日期</span>
<span id="endDate"></span>
<br>
<span id="end"></span>
</div>
  <div>
<input type="button" value="计算" onclick="fun()"/>

<span id="result"></span>
</div>
  <script src="laydate-5.0.9/dist/laydate.js"></script>
  <script>

var a,b;


//嵌套在指定容器中
laydate.render({
  elem: '#begin',
  position: 'static',
  showBottom: false,
  //format: 'yyyy年MM月dd日',
  //value: "2011-01-06",
  change: function(value, date){ //监听日期被切换
    lay('#beginDate').html(value);
	a = date.year + "-" + date.month + "-" + date.date;
  },
  ready: function(date){
	var m = date.month < 10 ? "0"+date.month : date.month;
	var d = date.date < 10 ? "0"+date.date : date.date;
	lay('#beginDate').html(date.year + "-" + m + "-" + d);
	a = date.year + "-" + date.month + "-" + date.date;
  }
});

laydate.render({
  elem: '#end',
  position: 'static',
  showBottom: false,
  change: function(value, date){ //监听日期被切换
    lay('#endDate').html(value);
	b = date.year + "-" + date.month + "-" + date.date;
  },
  ready: function(date){
	var m = date.month < 10 ? "0"+date.month : date.month;
	var d = date.date < 10 ? "0"+date.date : date.date;
	lay('#endDate').html(date.year + "-" + m + "-" + d);
	b = date.year + "-" + date.month + "-" + date.date;
  }
});


function fun(){
	var startTime = new Date(a).getTime();     
    var endTime = new Date(b).getTime();     
    var dates = Math.abs((startTime - endTime))/(1000*60*60*24);  

	console.log(dates);

	lay('#result').html("两个日期相差 " + dates + " 天")
}

</script>
 </body>
</html>
