<html>

<head>
    <title>自动改变的favicon</title>
    <meta content="charset=utf-8">

    <link rel="shortcut icon" type="image/x-icon" href="https://static.oschina.net/new-osc/img/favicon.ico">
</head>

<body>
    123

</body>
<script>

    function test(url) {
        if (typeof window === 'undefined') return;

        const link = window.document.querySelector("link[rel*='icon']") || window.document.createElement("link")

        // link.type = "image/svg+xml"
        link.type = "image/x-icon"
        link.rel = "shortcut icon"
        link.href = url; // "https://res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico"

        window.document.getElementsByTagName("head")[0].appendChild(link);
    }

    var flag = true

    setInterval(function () {
        if (flag) {
            test("https://static.oschina.net/new-osc/img/favicon.ico")
        } else {
            test("https://res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico")
        }
        flag = !flag
    }, 1000);

</script>

</html>